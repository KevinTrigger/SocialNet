import{j as r}from"./ThemeDecorator-BJS90HNQ.js";import{r as c}from"./index-CTjT7uj6.js";import{c as L}from"./classNames-DgDD4s-s.js";import{B as T,a as _}from"./Button-VZ1naJNG.js";import{I as p}from"./Input-BbdKpDT7.js";import{a as f,c as F,u as d,l as g,d as N,e as R}from"./StoreDecorator-CW-mSbnJ.js";import{T as h,a as C}from"./Text-FiyFha0q.js";import{u as E}from"./useTranslation-DegO0IwE.js";import"./i18next-BevayyBW.js";const v="_LoginForm_1oxjt_1",B="_input_1oxjt_7",U="_loginBtn_1oxjt_11",m={LoginForm:v,input:B,loginBtn:U},b=e=>{var o;return((o=e==null?void 0:e.loginForm)==null?void 0:o.username)||""},I=e=>{var o;return((o=e==null?void 0:e.loginForm)==null?void 0:o.password)||""},S=e=>{var o;return(o=e==null?void 0:e.loginForm)==null?void 0:o.error},x=e=>{const{children:o,reducers:t,removeAfterUnmount:n}=e,a=f(),i=F();return c.useEffect(()=>(Object.entries(t).forEach(([s,u])=>{i.reducerManager.add(s,u),a({type:`@INIT ${s} reducer`})}),()=>{n&&Object.entries(t).forEach(([s])=>{i.reducerManager.remove(s),a({type:`@DESTROY ${s} reducer`})})}),[]),r.jsx(r.Fragment,{children:o})};x.__docgenInfo={description:"",methods:[],displayName:"DynamicModuleLoader",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},reducers:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  [name in StateSchemaKey]?: Reducer;
}`,signature:{properties:[{key:{name:"StateSchemaKey",required:!1},value:{name:"Reducer"}}]}},description:""},removeAfterUnmount:{required:!1,tsType:{name:"boolean"},description:""}}};const k={loginForm:R},w=c.memo(e=>{const{className:o}=e,{t}=E("translation"),n=f(),a=d(b),i=d(I),s=d(S),u=c.useCallback(l=>{n(g.setUsername(l))},[n]),j=c.useCallback(l=>{n(g.setPassword(l))},[n]),y=c.useCallback(async()=>{n(N({username:a,password:i}))},[n,i,a]);return r.jsx(x,{reducers:k,removeAfterUnmount:!0,children:r.jsxs("div",{className:L(m.LoginForm,{},[o]),children:[r.jsx(h,{title:t("Авторизация")}),s&&r.jsx(h,{theme:C.ERROR,text:s}),r.jsx(p,{className:m.input,placeholder:t("Введите логин"),autoFocus:!0,onChange:u,value:a}),r.jsx(p,{className:m.input,placeholder:t("Введите пароль"),onChange:j,value:i}),r.jsx(T,{className:m.loginBtn,theme:_.OUTLINE,onClick:y,children:t("Войти")})]})})});w.__docgenInfo={description:"",methods:[],displayName:"LoginForm",props:{className:{required:!1,tsType:{name:"string"},description:""}}};export{w as default};
