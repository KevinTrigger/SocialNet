import{j as m}from"./jsx-runtime-CexXSJP5.js";import{r as p}from"./index-BP8_t0zE.js";import{c as u}from"./classNames-DgDD4s-s.js";import"./ArticleDetails-DNB7ceQ3.js";import{A as x}from"./ArticleList-BFAKmBrP.js";import"./ArticleSortSelector-Cxvm9rSO.js";import{D as N}from"./DynamicModuleLoader-aQDuflIu.js";import{g as j,a as E,b as f,c as l,f as d,d as y,e as S,h as T,i as _,A as b,j as F}from"./ArticlesPageFilters-BffDlrYi.js";import{b as A,f as D,e as n}from"./scrollSave-CvpIp14x.js";import{T as I,b as L}from"./Text-BfKY59Gu.js";import{P as M}from"./Page-Bd7fM6RT.js";import{u as R}from"./index-CM02_iVE.js";import"./articleDetailsSlice-DlMXZcHp.js";import"./localStorage-CnWtazwr.js";import"./Skeleton-CD873yLi.js";import"./Avatar-CxpHuU1U.js";import"./TextBlock-4LNlnsRv.js";import"./Icon-BPdxDrsu.js";import"./Code-bjdoD2wc.js";import"./Button-DnnjDDNB.js";import"./useTranslation-B2QVmqVC.js";import"./ArticleListItem-B-0oWTpH.js";import"./Card--r5Y039_.js";import"./routeConfig-IfocYX7p.js";import"./iframe-Da3z6XfF.js";import"../sb-preview/runtime.js";import"./NotFoundPage-BRQFHeEa.js";import"./index-g03I8CFB.js";import"./Select-BAegK4Fl.js";import"./Input-SBXS8SFk.js";import"./index-DJkmxc1E.js";const k=A("articlesPage/fetchNextArticlesPage",async(s,i)=>{const{getState:t,dispatch:e}=i,a=j(t()),r=E(t()),o=f(t());a&&!o&&(e(l.setPage(r+1)),e(d({})))}),v=A("articlesPage/initArticlesPage",async(s,i)=>{const{getState:t,dispatch:e}=i,a=y(t());if(console.log(s," SEARCH"),!a){const r=s.get("order"),o=s.get("sort"),c=s.get("search");r&&e(l.setOrder(r)),o&&e(l.setSort(o)),c&&e(l.setSearch(c)),e(l.initState()),e(d({}))}}),w="_list_fd7ni_1",g={list:w},C={articlesPage:F},P=s=>{const{className:i}=s,t=D(),e=n(S),a=n(T),r=n(f),o=n(_.selectAll),[c]=R(),h=p.useCallback(()=>{t(k())},[t]);return p.useEffect(()=>{t(v(c))},[t,c]),a?m.jsx(I,{theme:L.ERROR,title:"Ошибка при загрузке списка статей"}):m.jsx(N,{reducers:C,removeAfterUnmount:!1,children:m.jsxs(M,{className:u(g.ArticlesPage,{},[i]),onScrollEnd:h,children:[m.jsx(b,{}),m.jsx(x,{className:g.list,articles:o,view:e,isLoading:r})]})})},At=p.memo(P);P.__docgenInfo={description:"",methods:[],displayName:"ArticlesPage",props:{className:{required:!1,tsType:{name:"string"},description:""}}};export{At as default};
