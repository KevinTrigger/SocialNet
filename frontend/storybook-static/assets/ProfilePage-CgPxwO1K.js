import{j as r}from"./jsx-runtime-CexXSJP5.js";import{r as t}from"./index-BP8_t0zE.js";import{D as b}from"./DynamicModuleLoader-5rSnwAdf.js";import{b as g,p as s,c as B,g as j,f as E,d as T}from"./useAppDispatch-C_-74PEd.js";import{P as L}from"./ProfileCard-B4wixpml.js";import{u as l}from"./i18next-CEY2YAwM.js";import{c as v}from"./classNames-DgDD4s-s.js";import{T as D}from"./Text-B2gU8dYJ.js";import{B as u,a as P}from"./Button-Dn18IoVx.js";import{u as H}from"./useTranslation-B2QVmqVC.js";import"./Input-SBXS8SFk.js";import"./Loader-Ba6IOZ8c.js";import"./Avatar-DgOqVGEJ.js";import"./CurrencySelect-XAahyAJ8.js";import"./Select-DReADGzP.js";import"./CountrySelect-CkUT39Yh.js";import"./index-DJkmxc1E.js";const I=e=>{var o;return(o=e.profile)==null?void 0:o.error},A=e=>{var o;return(o=e.profile)==null?void 0:o.isLoading},C=e=>{var o;return(o=e.profile)==null?void 0:o.readonly},R="_ProfilePageHeader_1cumy_1",U="_editBtn_1cumy_7",O="_cancelBtn_1cumy_11",i={ProfilePageHeader:R,editBtn:U,cancelBtn:O},h=e=>{const{className:o}=e,{t:c}=H("profile"),n=g(),d=l(C),m=t.useCallback(()=>{n(s.setReadonly(!1))},[n]),p=t.useCallback(()=>{n(s.cancelEdit())},[n]),f=t.useCallback(()=>{n(B())},[n]);return r.jsxs("div",{className:v(i.ProfilePageHeader,{},[o]),children:[r.jsx(D,{title:c("Профиль")}),d?r.jsx(u,{onClick:m,theme:P.OUTLINE,className:i.editBtn,children:c("Редактировать")}):r.jsxs("div",{className:i.editModeWrap,children:[r.jsx(u,{onClick:p,theme:P.OUTLINE_RED,className:i.cancelBtn,children:c("Отменить")}),r.jsx(u,{theme:P.OUTLINE,className:i.editBtn,onClick:f,children:c("Сохранить")})]})]})};h.__docgenInfo={description:"",methods:[],displayName:"ProfilePageHeader",props:{className:{required:!1,tsType:{name:"string"},description:""}}};const q={profile:T},F=()=>{const e=g(),o=l(j),c=l(A),n=l(I),d=l(C),m=t.useCallback(a=>{e(s.updateProfile({firstname:a||""}))},[e]),p=t.useCallback(a=>{e(s.updateProfile({lastname:a||""}))},[e]),f=t.useCallback(a=>{e(s.updateProfile({age:Number(a||0)}))},[e]),y=t.useCallback(a=>{e(s.updateProfile({country:a}))},[e]),N=t.useCallback(a=>{e(s.updateProfile({currency:a}))},[e]),k=t.useCallback(a=>{e(s.updateProfile({city:a}))},[e]),x=t.useCallback(a=>{e(s.updateProfile({avatar:a||""}))},[e]),_=t.useCallback(a=>{e(s.updateProfile({username:a||""}))},[e]);return t.useEffect(()=>{e(E())},[e]),r.jsxs(b,{reducers:q,removeAfterUnmount:!0,children:[r.jsx(h,{}),r.jsx(L,{data:o,isLoading:c,error:n,readonly:d,onChangeFirstname:m,onChangeLastname:p,onChangeAge:f,onChangeCountry:y,onChangeCurrency:N,onChangeCity:k,onChangeAvatar:x,onChangeUsername:_})]})};F.__docgenInfo={description:"",methods:[],displayName:"ProfilePage",props:{className:{required:!1,tsType:{name:"string"},description:""}}};export{F as default};
