import{j as f}from"./jsx-runtime-CexXSJP5.js";import{r as c}from"./index-BP8_t0zE.js";import{c as d}from"./classNames-DgDD4s-s.js";import{f as g,e as h,g as S,s as v}from"./scrollSave-CvpIp14x.js";import{b as P}from"./index-BhItUGrV.js";const R="_Page_1nxqe_1",T={Page:R},b=s=>{const{callback:e,triggerRef:r,wrapperRef:t}=s;c.useEffect(()=>{const l=t.current,o=r.current;let n=null;if(e){const a={root:l,rootMargin:"0px",threshold:1};return n=new IntersectionObserver(([i])=>{i.isIntersecting&&e()},a),n.observe(o),()=>{n&&o&&n.unobserve(o)}}},[e,r,t])},x=(s,e)=>{const r=c.useRef(!1);return c.useCallback((...t)=>{r.current||(s(...t),r.current=!0,setTimeout(()=>{r.current=!1},e))},[s,e])},E=s=>{const{className:e,children:r,onScrollEnd:t,isSaveScroll:l=!0}=s,{pathname:o}=P(),n=g(),a=c.useRef(),i=c.useRef(),u=h(p=>S(p,o));b({triggerRef:i,wrapperRef:a,callback:t});const m=x(p=>{n(v.setScrollPosition({path:o,position:p.currentTarget.scrollTop}))},500);return c.useEffect(()=>{a.current.scrollTop=u},[u]),f.jsxs("section",{...l?{onScroll:m}:{},ref:a,className:d(T.Page,{},[e]),children:[r,f.jsx("div",{ref:i})]})};E.__docgenInfo={description:"",methods:[],displayName:"Page",props:{className:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},onScrollEnd:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},isSaveScroll:{required:!1,tsType:{name:"boolean"},description:""}}};export{E as P};
