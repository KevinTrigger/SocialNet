import{j as t}from"./jsx-runtime-Cw0GR0a5.js";import{r as e}from"./index-CTjT7uj6.js";import{c as h}from"./classNames-DgDD4s-s.js";import{r as E}from"./index-vZN_Bsf0.js";import"./ThemeDecorator-enzQMzt5.js";import{u as M}from"./useTheme-C5zkoL12.js";const N="_Modal_36s71_1",k="_overlay_36s71_14",x="_content_36s71_23",T="_opened_36s71_32",w="_isClosing_36s71_41",o={Modal:N,overlay:k,content:x,opened:T,isClosing:w},j=r=>{const{children:a,element:i=document.body}=r;return E.createPortal(a,i,"portal")},b=300,q=r=>{const{children:a,className:i,isOpen:s,onClose:c,lazy:u}=r,[f,m]=e.useState(!1),[_,y]=e.useState(!1),p=e.useRef(),{theme:C}=M(),g={[o.opened]:!!s,[o.isClosing]:f},l=e.useCallback(()=>{c&&(m(!0),p.current=setTimeout(()=>{c(),m(!1)},b))},[c]),v=n=>{n.stopPropagation()},d=e.useCallback(n=>{n.key==="Escape"&&(console.log(n.key),l())},[l]);return e.useEffect(()=>(s&&window.addEventListener("keydown",d),()=>{clearTimeout(p.current),window.removeEventListener("keydown",d)}),[s,d]),e.useEffect(()=>{s&&y(!0)},[s]),u&&!_?null:t.jsx(j,{children:t.jsx("div",{className:h(o.Modal,g,[i,C,"app_modal"]),children:t.jsx("div",{className:o.overlay,onClick:l,children:t.jsx("div",{className:o.content,onClick:v,children:a})})})})};q.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{className:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""},isOpen:{required:!1,tsType:{name:"boolean"},description:""},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},lazy:{required:!1,tsType:{name:"boolean"},description:""}}};export{q as M};
