import{b as o,t as n,c as l,d as m}from"./userSlice-CPoWvKUh.js";const c=o("articleDetails/fetchArticleDetailsData",async(a,e)=>{const{extra:t,rejectWithValue:i}=e;try{const r=await t.api.get(`/articles/${a}`);if(!r.data)throw new Error;return r.data}catch{return i(n("Ошибка"))}}),u={isLoading:!1,error:void 0,data:void 0},f=l({name:"articleDetails",initialState:u,reducers:{},extraReducers:a=>{a.addCase(c.pending,e=>{e.error=void 0,e.isLoading=!0}).addCase(c.fulfilled,(e,t)=>{e.isLoading=!1,e.data=t.payload}).addCase(c.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}}),{reducer:y}=f,d=o("articleDetails/fetchCommentsByArticleId",async(a,e)=>{const{extra:t,rejectWithValue:i}=e;if(!a)return i(n("Ошибка"));try{const r=await t.api.get("/comments",{params:{articleId:a,_expand:"user"}});if(!r.data)throw new Error;return r.data}catch{return i(n("Ошибка"))}}),s=m({selectId:a=>a.id}),C=s.getSelectors(a=>a.articleDetailsComments||s.getInitialState()),g=l({name:"articleDetailsCommentsSlice",initialState:s.getInitialState({isLoading:!1,error:void 0,ids:[],entities:{}}),reducers:{},extraReducers:a=>a.addCase(d.pending,e=>{e.error=void 0,e.isLoading=!0}).addCase(d.fulfilled,(e,t)=>{e.isLoading=!1,s.setAll(e,t.payload)}).addCase(d.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}),{reducer:h}=g;export{h as a,c as b,y as c,d as f,C as g};
