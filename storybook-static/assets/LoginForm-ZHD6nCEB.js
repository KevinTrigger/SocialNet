import{j as s}from"./jsx-runtime-DR9Q75dM.js";import{r as m}from"./index-DRjF_FHU.js";import{c as _}from"./classNames-DgDD4s-s.js";import{B as j,a as C}from"./Button-C5g2HnJ_.js";import{I as g}from"./Input-D55aBuL7.js";import{a as N,u as l}from"./scrollSave-CNeLDUKN.js";import{l as d,a as T,b as B}from"./StoreDecorator-Dtilx8sq.js";import{T as f,b as w}from"./Text-8-U9O7DD.js";import{D as y}from"./userSlice-CdonUkG-.js";import{V as k}from"./HStack-CaG30RU_.js";import{u as R}from"./useTranslation-BUpB3eR0.js";import"./index-rX-Bn4lm.js";import"./profileSlice-BZf1TSNQ.js";import"./ProfileCard-BlTN69nQ.js";import"./Avatar-Bxkdti11.js";import"./CurrencySelect-nSBwUG0N.js";import"./ListBox-COibNh0G.js";import"./Icon-Bc7SpoeX.js";import"./CountrySelect-CtdNmfJF.js";import"./Skeleton-Betdy8Xd.js";import"./addCommentFormSlice-CH0FsWet.js";import"./index-C6Ymil2s.js";import"./Flex-C5DsYTI8.js";const U=o=>{var r;return((r=o==null?void 0:o.loginForm)==null?void 0:r.username)||""},b=o=>{var r;return((r=o==null?void 0:o.loginForm)==null?void 0:r.password)||""},v=o=>{var r;return(r=o==null?void 0:o.loginForm)==null?void 0:r.error},E="_LoginForm_fgczm_1",S="_input_fgczm_5",I="_loginBtn_fgczm_9",i={LoginForm:E,input:S,loginBtn:I},q={loginForm:B},h=o=>{const{className:r,onSuccess:p}=o,{t:e}=R("translation"),n=N(),a=l(U),c=l(b),u=l(v),x=m.useCallback(t=>{n(d.setUsername(t))},[n]),L=m.useCallback(t=>{n(d.setPassword(t))},[n]),F=m.useCallback(async()=>{(await n(T({username:a,password:c}))).meta.requestStatus==="fulfilled"&&p()},[p,n,c,a]);return s.jsx(y,{reducers:q,removeAfterUnmount:!0,children:s.jsxs(k,{className:_(i.LoginForm,{},[r]),children:[s.jsx(f,{title:e("Авторизация")}),u&&s.jsx(f,{theme:w.ERROR,text:u}),s.jsx(g,{className:i.input,placeholder:e("Введите логин"),autoFocus:!0,onChange:x,value:a}),s.jsx(g,{className:i.input,placeholder:e("Введите пароль"),onChange:L,value:c}),s.jsx(j,{className:i.loginBtn,theme:C.OUTLINE,onClick:F,children:e("Войти")})]})})},io=m.memo(h);h.__docgenInfo={description:"",methods:[],displayName:"LoginForm",props:{className:{required:!1,tsType:{name:"string"},description:""},onSuccess:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{io as default};
