import{j as n}from"./jsx-runtime-CexXSJP5.js";import{r as e}from"./index-BP8_t0zE.js";import{c as h}from"./classNames-DgDD4s-s.js";import{r as E}from"./index-DJkmxc1E.js";import"./ThemeDecorator-_gfN7HEO.js";import{u as M}from"./useTheme-DNLmAFmY.js";const N="_Modal_36s71_1",x="_overlay_36s71_14",T="_content_36s71_23",k="_opened_36s71_32",w="_isClosing_36s71_41",o={Modal:N,overlay:x,content:T,opened:k,isClosing:w},j=t=>{const{children:r,element:a=document.body}=t;return E.createPortal(r,a,"portal")},b=300,q=t=>{const{children:r,className:a,isOpen:s,onClose:i,lazy:u}=t,[f,m]=e.useState(!1),[_,y]=e.useState(!1),p=e.useRef(),{theme:C}=M(),g={[o.opened]:!!s,[o.isClosing]:f},c=e.useCallback(()=>{i&&(m(!0),p.current=setTimeout(()=>{i(),m(!1)},b))},[i]),v=d=>{d.stopPropagation()},l=e.useCallback(d=>{d.key==="Escape"&&c()},[c]);return e.useEffect(()=>(s&&window.addEventListener("keydown",l),()=>{clearTimeout(p.current),window.removeEventListener("keydown",l)}),[s,l]),e.useEffect(()=>{s&&y(!0)},[s]),u&&!_?null:n.jsx(j,{children:n.jsx("div",{className:h(o.Modal,g,[a,C,"app_modal"]),children:n.jsx("div",{className:o.overlay,onClick:c,children:n.jsx("div",{className:o.content,onClick:v,children:r})})})})};q.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{className:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""},isOpen:{required:!1,tsType:{name:"boolean"},description:""},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},lazy:{required:!1,tsType:{name:"boolean"},description:""}}};export{q as M};
